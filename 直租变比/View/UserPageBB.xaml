<Page x:Class="直租变比.View.UserPageBB"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:直租变比.View" 
      xmlns:sys="clr-namespace:System;assembly=mscorlib"      
      mc:Ignorable="d" 
      d:DesignHeight="450" d:DesignWidth="800"
      Title="UserPageBB">

    <Page.Resources>

        <sys:Double x:Key="RowH">18</sys:Double>

        <Style TargetType="GroupBox">
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="BorderThickness" Value="2"/>
            <Setter Property="BorderBrush" Value="Black"/>
            <Setter Property="Foreground" Value="Black"/>
        </Style>
    </Page.Resources>


    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="419*"/>
            <ColumnDefinition Width="605*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <!-- 菜单高度 这里还要加1个高度，就是 图标高度，就是 最小化 最大话按钮的高度，他们是40 -->
            <RowDefinition Height="20"></RowDefinition>
            <RowDefinition Height="690"></RowDefinition>
        </Grid.RowDefinitions>
        
        <Border Grid.Row="1" Background="{DynamicResource {x:Static SystemColors.MenuBarBrushKey}}" Margin="-6,0,0,6" Grid.ColumnSpan="2" >
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="560"></ColumnDefinition>
                    <ColumnDefinition Width="240"></ColumnDefinition>
                    <ColumnDefinition></ColumnDefinition>
                </Grid.ColumnDefinitions>

                <Border Grid.Column="0" >
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="0.5*"></RowDefinition>
                            <RowDefinition Height="1.3*"></RowDefinition>
                            <RowDefinition Height="*"></RowDefinition>
                        </Grid.RowDefinitions>

                        <Border Grid.Row="0">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition></ColumnDefinition>
                                    <ColumnDefinition></ColumnDefinition>
                                    <ColumnDefinition></ColumnDefinition>
                                    <ColumnDefinition></ColumnDefinition>
                                    <ColumnDefinition></ColumnDefinition>
                                </Grid.ColumnDefinitions>
                                <Image Margin="18,10,2,10" x:Name="myImage" Source="Asset/headlogo.png" />
                            </Grid>
                        </Border>

                        <GroupBox Grid.Column="0"  Header="实时测量数据" Padding="10" Margin="15,122,5,20" Grid.RowSpan="2">

                            <GroupBox.HeaderTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding}" FontSize="{Binding Source={StaticResource RowH}}" />
                                </DataTemplate>
                            </GroupBox.HeaderTemplate>


                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="200"></RowDefinition>
                                    <RowDefinition Height="66"></RowDefinition>
                                </Grid.RowDefinitions>

                                <local:UserMainControl  Grid.Row="0" x:Name="UserMainControl"></local:UserMainControl>
                                
                                <StackPanel x:Name="StackPanel1" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,196,0,4" Grid.RowSpan="2">
                                    <Button x:Name="BCommandStart" Content="开始测量" Command="{Binding BtnCommandStart}" CommandParameter="{Binding ElementName=StackPanel1}" Margin="10 0" Width="80" Height="35"></Button>
                                    <Button x:Name="BCommandStop" Content="停止测量" Command="{Binding BtnCommandStop}" CommandParameter="{Binding ElementName=StackPanel1}" Margin="10 0" Width="80" Height="35" IsEnabled="False"></Button>
                                    <Button Content="保存数据" Command="{Binding BtnCommandSave}" Margin="10 0" Width="80" Height="35"></Button>
                                </StackPanel>
                            </Grid>
                        </GroupBox>

                        <GroupBox Grid.Row="2" Grid.Column="0" Header="测试结果数据" Padding="10" Margin="15,0,5,20">
                            <GroupBox.HeaderTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding}" FontSize="{Binding Source={StaticResource RowH}}" />
                                </DataTemplate>
                            </GroupBox.HeaderTemplate>

                            <local:UserRecordControl x:Name="UserRecordControl"></local:UserRecordControl>
                        </GroupBox>

                    </Grid>


                </Border>


                <Border Grid.Column="1" Grid.RowSpan="2">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="0.5*"></RowDefinition>
                            <RowDefinition Height="1.3*"></RowDefinition>
                            <RowDefinition></RowDefinition>
                        </Grid.RowDefinitions>

                        <GroupBox Grid.Row="0" Grid.Column="0" Header="变频电源状态" Padding="10" Margin="10">

                            <GroupBox.HeaderTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding}" FontSize="{Binding Source={StaticResource RowH}}" />
                                </DataTemplate>
                            </GroupBox.HeaderTemplate>

                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                </Grid.RowDefinitions>

                                <StackPanel Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Center">
                                    <TextBlock Text="电源状态" Margin="0 0 10 0"></TextBlock>
                                    <TextBlock Text="待机"></TextBlock>
                                </StackPanel>

                                <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Center">
                                    <TextBlock Text="输出档位" Margin="0 0 10 0"></TextBlock>
                                    <TextBlock Text="低档"></TextBlock>
                                </StackPanel>

                            </Grid>
                        </GroupBox>

                        <GroupBox Grid.Column="0" Header="变频电源设置" Padding="10" Margin="10,122,10,20" Grid.RowSpan="2">
                            <GroupBox.HeaderTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding}" FontSize="{Binding Source={StaticResource RowH}}" />
                                </DataTemplate>
                            </GroupBox.HeaderTemplate>

                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                </Grid.RowDefinitions>

                                <StackPanel Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Center">
                                    <TextBlock Margin="0 0 10 0"  Text="频率设置:" FontSize="16"></TextBlock>
                                    <ComboBox Text="{Binding Hz_data}" IsEditable="True" Width="75"  FontSize="16">
                                        <ComboBoxItem>50</ComboBoxItem>
                                        <ComboBoxItem>60</ComboBoxItem>
                                        <ComboBoxItem>200</ComboBoxItem>
                                    </ComboBox>
                                </StackPanel>

                                <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Center">
                                    <TextBlock Margin="0 0 10 0" Text="电压设置:" FontSize="16"></TextBlock>
                                    <TextBox  MaxLength="9"  Text="{Binding Dianya_data}" Width="75" FontSize="16"></TextBox>
                                </StackPanel>

                                <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Center">
                                    <TextBlock Margin="0 0 10 0" Text="三相同调设置:" FontSize="16"></TextBlock>
                                    <TextBox  MaxLength="9"  Text="{Binding Tongtiao_data}" Width="75" FontSize="16"></TextBox>
                                </StackPanel>

                                <StackPanel Grid.Row="3" Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Center">
                                    <TextBlock Margin="0 0 10 0" Text="A相电压设置:" ></TextBlock>
                                    <TextBox  MaxLength="9"  Text="{Binding Adainya_data}" Width="75" FontSize="16"></TextBox>
                                </StackPanel>

                                <StackPanel Grid.Row="4" Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Center">
                                    <TextBlock Margin="0 0 10 0" Text="B相电压设置:" ></TextBlock>
                                    <TextBox  MaxLength="9"  Text="{Binding Bdainya_data}" Width="75" FontSize="16"></TextBox>
                                </StackPanel>

                                <StackPanel Grid.Row="5" Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Center">
                                    <TextBlock Margin="0 0 10 0" Text="C相电压设置:" ></TextBlock>
                                    <TextBox MaxLength="9" Text="{Binding Cdainya_data}" Width="75" FontSize="16"></TextBox>
                                </StackPanel>

                                <StackPanel x:Name="StackPanel2" Grid.Row="8" Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
                                    <Button x:Name="BtnDyCommandStart" Command="{Binding BtnDyCommandStart}" CommandParameter="{Binding ElementName=StackPanel2}" Margin="0 0 20 0" Width="80" Height="35" Content="启动"></Button>
                                    <Button x:Name="BtnDyCommandStop" Command="{Binding BtnDyCommandStop}" CommandParameter="{Binding ElementName=StackPanel2}" IsEnabled="False" Width="80" Height="35" Content="停止"></Button>
                                </StackPanel>

                            </Grid>
                        </GroupBox>

                        <GroupBox Grid.Row="2" Grid.Column="0" Header="日志" Padding="10" Margin="10,0,10,20">
                            <GroupBox.HeaderTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding}" FontSize="{Binding Source={StaticResource RowH}}" />
                                </DataTemplate>
                            </GroupBox.HeaderTemplate>

                            <ListBox ItemsSource="{Binding ListBoxData}" Grid.Column="1" FontSize="15" >
                                <ListBox.ItemTemplate>
                                    <DataTemplate>
                                        <TextBlock>
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Foreground" Value="Blue"/>
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding IsRed}" Value="True">
                                                            <Setter Property="Foreground" Value="Red"/>
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                            <TextBlock.Text>
                                                <Binding Path="Text"/>
                                            </TextBlock.Text>
                                        </TextBlock>
                                    </DataTemplate>
                                </ListBox.ItemTemplate>
                            </ListBox>
                        </GroupBox>

                    </Grid>

                </Border>

                <Border Grid.Row="0" Grid.Column="2" Grid.RowSpan="2">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="0.5*"></RowDefinition>
                            <RowDefinition Height="1.3*"></RowDefinition>
                            <RowDefinition></RowDefinition>
                        </Grid.RowDefinitions>

                        <GroupBox Grid.Row="0" Grid.Column="2" Header="通讯状态" Padding="10" Margin="10">
                            <GroupBox.HeaderTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding}" FontSize="{Binding Source={StaticResource RowH}}" />
                                </DataTemplate>
                            </GroupBox.HeaderTemplate>

                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                </Grid.RowDefinitions>
                                <StackPanel Grid.Row="0" Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Left">
                                    <TextBlock Text="功率分析仪" Margin="0 0 20 0"></TextBlock>
                                    <Image Source="{Binding ImageShebei1}" Margin="0 0 20 0" Width="20" Height="20"></Image>
                                    <Button Content="握手" Command="{Binding SendGLFXYWoShou}"></Button>
                                </StackPanel>

                                <StackPanel Grid.Row="1" Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Left">
                                    <TextBlock Text="变频电源器" Margin="0 0 20 0"></TextBlock>
                                    <Image Width="20" Height="20" Source="{Binding ImageShebei2}" Margin="0 0 20 0"></Image>
                                    <Button Content="握手" Command="{Binding SendBPDYWoShou}"></Button>
                                </StackPanel>

                            </Grid>
                        </GroupBox>

                        <GroupBox Header="测试设置" Padding="10" Margin="10,122,10,20" Grid.RowSpan="2">
                            <GroupBox.HeaderTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding}" FontSize="{Binding Source={StaticResource RowH}}" />
                                </DataTemplate>
                            </GroupBox.HeaderTemplate>

                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                </Grid.RowDefinitions>
                                <StackPanel Grid.Row="0" Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Left">
                                    <TextBlock Text="额定匝数:" Margin="0 0 10 0"></TextBlock>
                                    <TextBox  MaxLength="9"  Text="{Binding Edingzhashu_data}" Width="75"></TextBox>
                                </StackPanel>

                                <StackPanel Grid.Row="1" Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Left">
                                    <TextBlock Text="临时匝数:" Margin="0 0 10 0"></TextBlock>
                                    <ComboBox IsEditable="True" Width="75" Text="{Binding Tempzhashu_data}">
                                        <ComboBoxItem>10</ComboBoxItem>
                                        <ComboBoxItem>20</ComboBoxItem>
                                    </ComboBox>
                                </StackPanel>

                                <StackPanel Grid.Row="2" Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Left">
                                    <TextBlock Text="施加电压:" Margin="0 0 10 0"></TextBlock>
                                    <TextBlock Text="{Binding Shijiazhashu_data}"></TextBlock>
                                </StackPanel>

                                <StackPanel Grid.Row="3" Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Left">
                                    <TextBlock Text="操作方式:" Margin="0 0 10 0"></TextBlock>
                                    <TextBlock Text="{Binding ShowOneOrThree }"></TextBlock>
                                </StackPanel>

                                <StackPanel Grid.Row="4" Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Left">
                                    <TextBlock Text="测量方式:" Margin="0 0 10 0"></TextBlock>
                                    <ComboBox Text="{Binding Set3P4WOr3P3W}"  Width="75">
                                        <ComboBoxItem>3P4W</ComboBoxItem>
                                        <ComboBoxItem>3P3W</ComboBoxItem>
                                        <ComboBoxItem>3V3A</ComboBoxItem>
                                        <ComboBoxItem>1P3W</ComboBoxItem>

                                    </ComboBox>
                                </StackPanel>



                                <StackPanel Grid.Row="7" Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Center">
                                    <Button Command="{Binding BtnFxyCommandSet}" Content="确定" Width="80" Height="35"  ></Button>
                                </StackPanel>


                            </Grid>
                        </GroupBox>

                        <GroupBox Grid.Row="2" Header="产品信息" Padding="10" Margin="10,0,10,20">
                            <GroupBox.HeaderTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding}" FontSize="{Binding Source={StaticResource RowH}}" />
                                </DataTemplate>
                            </GroupBox.HeaderTemplate>

                            <local:UserInfoControl x:Name="UserInfoControl"></local:UserInfoControl>
                        </GroupBox>

                    </Grid>
                </Border>

            </Grid>


        </Border>


    </Grid>
</Page>
