<UserControl x:Class="我的地图.View.Pages.FirstPage"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:我的地图.View.Pages"
             xmlns:m="clr-namespace:Microsoft.Maps.MapControl.WPF;assembly=Microsoft.Maps.MapControl.WPF"
             mc:Ignorable="d" 
             xmlns:lvc="clr-namespace:LiveCharts.Wpf;assembly=LiveCharts.Wpf"
             xmlns:c="clr-namespace:我的地图.Controls"
             xmlns:b="clr-namespace:我的地图.Base"
             d:DesignHeight="450" d:DesignWidth="800">

    <UserControl.Resources>
        <Style TargetType="GroupBox">
            <Setter Property="Margin" Value="5"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="GroupBox">
                        <Border CornerRadius="5" BorderBrush="#006Da0" BorderThickness="0,1,0,0"
                            Background="#55E1F5FF">
                            <Grid Background="Transparent">
                                <ContentPresenter/>

                                <StackPanel Orientation="Horizontal" VerticalAlignment="Top" HorizontalAlignment="Left">
                                    <Border Background="#18EBED" Width="2" Height="15"/>
                                    <TextBlock Text="{Binding Header,RelativeSource={RelativeSource Mode=TemplatedParent}}"
                                           Foreground="#006DA0" Margin="10">
                                    </TextBlock>
                                </StackPanel>
                            </Grid>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="Button">
            <Setter Property="Foreground" Value="#4874DE"/>
            <Setter Property="Margin" Value="0,5"/>
            <Setter Property="Background" Value="#2999"/>
            <Setter Property="WindowChrome.IsHitTestVisibleInChrome" Value="True"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border CornerRadius="5" Background="{TemplateBinding Background}" Name="border">
                            <ContentPresenter Margin="12,8" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#224874DE"/>
                </Trigger>

            </Style.Triggers>
        </Style>
        
    </UserControl.Resources>

    <Grid>
        
        <m:Map ZoomLevel="4.6" Center="30.55201,114.23246"               
            CredentialsProvider="AgXB7m7fVYxKpjEZV9rGdrRPvLgawYhi4Wvw99kk4RDspoalC3B_vQ8GKJAoxrve">
            <!--底图模板OpacitMask所有的控件都有的，不是地图才有的下面是园的渐变.....-->
            <m:Map.OpacityMask>
                <RadialGradientBrush GradientOrigin="0.5,0.5" RadiusX="0.45" RadiusY="0.55" Center="0.5,0.4">
                    <GradientStop Color="Black" Offset="0"></GradientStop>
                    <GradientStop Color="Transparent" Offset="1"></GradientStop>
                </RadialGradientBrush>
            </m:Map.OpacityMask>
            <!--底图-->
            <b:AMapTitleLayer></b:AMapTitleLayer>
            <Canvas Width="30" Height="30" m:MapLayer.Position="30.55201,114.23246"
            m:MapLayer.PositionOrigin="BottomCenter">
                <TextBlock Text="&#xe706;" FontFamily="../Assets/Fonts/#iconfont"
                   Canvas.Bottom="0" Canvas.Left="8"
                   FontSize="20" Foreground="Orange"></TextBlock>

                <Border Width="14" BorderThickness="1" BorderBrush="Orange"
                CornerRadius="3" Background="White" Canvas.Bottom="20" Canvas.Left="8.5">
                    <ItemsControl ItemsSource="{Binding WHColors}">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Border Height="8" Background="{Binding Color}" CornerRadius="2" Margin="0,1"></Border>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </Border>
            </Canvas>


            <Canvas Width="30" Height="30" m:MapLayer.Position="34.30017,108.95116" m:MapLayer.PositionOrigin="BottomCenter">
                <TextBlock Text="&#xe706;" FontFamily="../Assets/Fonts/#iconfont" Canvas.Bottom="0" Canvas.Left="8" FontSize="20" Foreground="Orange"></TextBlock>
                <Border Background="ForestGreen" Canvas.Bottom="0" Canvas.Right="38" CornerRadius="5">
                    <TextBlock Text="西安/项目B" FontSize="8" Foreground="White"></TextBlock>
                </Border>

                <Border Width="14" BorderThickness="1" BorderBrush="Orange" CornerRadius="3" Background="White" Canvas.Bottom="20" Canvas.Left="8.5">
                    <ItemsControl ItemsSource="{Binding XAColors}">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Border Height="8" Background="{Binding Color}" CornerRadius="2" Margin="0,1"></Border>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </Border>
            </Canvas>

            <m:MapLayer Name="lineLayer">
            </m:MapLayer>
        </m:Map>


        <Grid >
            <Grid.ColumnDefinitions>
                <ColumnDefinition></ColumnDefinition>
                <ColumnDefinition></ColumnDefinition>
                <ColumnDefinition></ColumnDefinition>
            </Grid.ColumnDefinitions>

            <!--第一列-->
            <UniformGrid Columns="1">
                <GroupBox Header="监测帐号" BorderBrush="#32BFF8" BorderThickness="1" Background="#333B7BE7">
                    <Grid Margin="10,0">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="30"/>
                            <RowDefinition Height="auto"/>
                            <RowDefinition Height="auto"/>
                            <RowDefinition/>
                        </Grid.RowDefinitions>
                        <TextBlock Grid.Row="1" VerticalAlignment="Center" Margin="0,8">
                                <Run Text="帐号名称： " Foreground="#888"/>
                                <Run Text="帐号名称"/>
                        </TextBlock>
                        <TextBlock Grid.Row="1" VerticalAlignment="Center" HorizontalAlignment="Right">
                                <Hyperlink TextDecorations="None">[退出]</Hyperlink>
                        </TextBlock>
                        <StackPanel Orientation="Horizontal" Grid.Row="2" HorizontalAlignment="Left">
                            <Border Background="#CC3B7BE7" CornerRadius="3" Width="20" Height="15"/>
                            <TextBlock Text="正常" Margin="5,0" FontSize="11" VerticalAlignment="Center" Foreground="#888"/>
                            <Border Background="#AA05A3E4" CornerRadius="3" Width="20" Height="15"/>
                            <TextBlock Text="离线" Margin="5,0" FontSize="11" VerticalAlignment="Center" Foreground="#888"/>
                            <Border Background="#99E44D4E" CornerRadius="3" Width="20" Height="15"/>
                            <TextBlock Text="故障" Margin="5,0" FontSize="11" VerticalAlignment="Center" Foreground="#888"/>
                            <Border Background="LightGray" CornerRadius="3" Width="20" Height="15"/>
                            <TextBlock Text="空闲" Margin="5,0" FontSize="11" VerticalAlignment="Center" Foreground="#888"/>
                        </StackPanel>

                        <Grid Grid.Row="3">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition Width="80"/>
                            </Grid.ColumnDefinitions>
                            <lvc:PieChart StartingRotationAngle="0" Margin="10">
                                <lvc:PieChart.Series>
                                    <lvc:PieSeries Values="0.4854" StrokeThickness="0" Fill="#CC3B7BE7" Title="正常设备"/>
                                    <lvc:PieSeries Values="0.4369" StrokeThickness="0" Fill="#AA05A3E4" Title="离线设备"/>
                                    <lvc:PieSeries Values="0.0777" StrokeThickness="0" Fill="#99E44D4E" Title="故障设备"/>
                                    <lvc:PieSeries Values="0.0777" StrokeThickness="0" Fill="LightGray" Title="空闲设备"/>
                                </lvc:PieChart.Series>
                            </lvc:PieChart>
                            <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                <Button Content="远程升级"/>
                                <Button Content="添加设备"/>
                            </StackPanel>
                        </Grid>
                    </Grid>
                </GroupBox>
                <GroupBox Header="设备状态" BorderBrush="#32BFF8" BorderThickness="1" Background="#333B7BE7">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="30"/>
                            <RowDefinition/>
                        </Grid.RowDefinitions>
                        <StackPanel Grid.Row="1" Margin="10,0">
                            <Grid Height="23" Grid.Row="1" 
                                      VerticalAlignment="Center" TextBlock.Foreground="#99000000">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="设备名称" VerticalAlignment="Center"/>
                                <TextBlock Text="在线状态" Grid.Column="1" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                <TextBlock Text="运行状态" Grid.Column="2" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Grid>
                            <Border Height="1" Background="#22006DA0"/>
                            <Grid Grid.Row="2" Height="26" TextBlock.FontSize="11" TextBlock.Foreground="#555">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="D-1001-01" VerticalAlignment="Center"/>
                                <TextBlock Text="已连接" Grid.Column="1" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                <TextBlock Text="运行中" Grid.Column="2" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Grid>
                            <Grid Grid.Row="2" Height="26" TextBlock.FontSize="11" TextBlock.Foreground="#555">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="D-1001-01" VerticalAlignment="Center"/>
                                <TextBlock Text="未连接" Grid.Column="1" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                <TextBlock Text="关机" Grid.Column="2" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Grid>
                            <Grid Grid.Row="2" Height="26" TextBlock.FontSize="11" TextBlock.Foreground="#555">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="D-1001-01" VerticalAlignment="Center"/>
                                <TextBlock Text="未连接" Grid.Column="1" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                <TextBlock Text="关机" Grid.Column="2" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Grid>
                            <Grid Grid.Row="2" Height="26" TextBlock.FontSize="11" TextBlock.Foreground="#555">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="D-1001-01" VerticalAlignment="Center"/>
                                <TextBlock Text="已连接" Grid.Column="1" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                <TextBlock Text="运行中" Grid.Column="2" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Grid>
                            <Grid Grid.Row="2" Height="26" TextBlock.FontSize="11" TextBlock.Foreground="#555">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                    <ColumnDefinition/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="D-1001-01" VerticalAlignment="Center"/>
                                <TextBlock Text="已连接" Grid.Column="1" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                <TextBlock Text="运行中" Grid.Column="2" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Grid>
                        </StackPanel>
                    </Grid>
                </GroupBox>


                <GroupBox Header="能源消耗" BorderBrush="#32BFF8" BorderThickness="1" 
                              Background="#333B7BE7" ClipToBounds="True">
                    <lvc:CartesianChart Margin="0,10,-4,5">
                        <lvc:CartesianChart.Series>
                            <lvc:LineSeries Values="3,5,34,53,23,53,534,5,3,5,634" StrokeThickness="2" Stroke="#32BFF8" Title="综合能耗" >
                                <lvc:LineSeries.Fill>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                        <GradientStop Color="#3332BFF8" Offset="0"/>
                                        <GradientStop Color="#0532BFF8" Offset="1"/>
                                    </LinearGradientBrush>
                                </lvc:LineSeries.Fill>
                            </lvc:LineSeries>
                        </lvc:CartesianChart.Series>
                        <lvc:CartesianChart.AxisX>
                            <lvc:Axis Labels="1,2,3,4,5,6,7,8,9,10,11">
                                <lvc:Axis.Separator>
                                    <lvc:Separator Step="1" StrokeThickness="0"/>
                                </lvc:Axis.Separator>
                            </lvc:Axis>
                        </lvc:CartesianChart.AxisX>
                        <lvc:CartesianChart.AxisY>
                            <lvc:Axis MinValue="0" MaxValue="700" ShowLabels="False">
                                <lvc:Axis.Separator>
                                    <lvc:Separator Step="200" Stroke="#1888"/>
                                </lvc:Axis.Separator>
                            </lvc:Axis>
                        </lvc:CartesianChart.AxisY>
                    </lvc:CartesianChart>
                </GroupBox>
            </UniformGrid>

            <!--第2列-->
            <Grid Grid.Column="1">
                <Grid.RowDefinitions>
                    <RowDefinition></RowDefinition>
                    <RowDefinition Height="180"></RowDefinition>
                </Grid.RowDefinitions>

                <GroupBox Header="功能配合" Grid.Row="1"></GroupBox>

            </Grid>

            <!--第3列-->
            <Grid Grid.Column="2">
                <Grid.RowDefinitions>
                    <RowDefinition></RowDefinition>
                    <RowDefinition ></RowDefinition>
                </Grid.RowDefinitions>

                <UniformGrid>
                    <c:ProgressRing Width="120" Height="120" Value="45" Title="智能失败"
                            ForeColor="Orange"></c:ProgressRing>
                    <c:ProgressRing Width="120" Height="120" Value="65" Title="智能失败"
                            ForeColor="#05A3E4"></c:ProgressRing>
                    <c:ProgressRing Width="120" Height="120" Value="85" Title="智能失败"
                            ForeColor="#E44D4E"></c:ProgressRing>
                    <c:ProgressRing Width="120" Height="120" Value="95" Title="智能失败"
                            ForeColor="#4874DE"></c:ProgressRing>
                </UniformGrid>

                <GroupBox Grid.Row="1" Header="异常警告">

                </GroupBox>

            </Grid>

        </Grid>

    </Grid>
</UserControl>
